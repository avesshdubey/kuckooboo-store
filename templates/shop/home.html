{% extends "base.html" %}

{% block title %}Home | Kuckoo Boo & mama!{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<section class="home-hero">
    <div class="hero-content">
        <h1>Premium Essentials for Babies & Kids</h1>
        <p>Thoughtfully crafted products made with love and care.</p>
        <a href="#products" class="btn-primary">
            Shop Now
        </a>
    </div>
</section>
<div class="coupon-banner">
    ðŸŽ‰ Use code <strong>WELCOME10</strong> and get 10% OFF!
</div>

<!-- PRODUCTS SECTION -->
<section id="products" class="home-products">

    <div class="section-header">
        <h2>Our Products</h2>
    </div>

    {% if products %}
    <div class="product-grid">

        {% for product in products %}
        <div class="product-card">

            {% if product.is_new %}
                <span class="badge-new">NEW</span>
            {% endif %}

            <!-- MEDIA PREVIEW -->
            <div class="image-wrapper">

                {% if product.preview_image %}
                    <img
                        src="{{ product.preview_image }}"
                        alt="{{ product.name }}"
                        class="product-image"
                        loading="lazy"
                    >
                {% else %}
                    <div class="no-image">
                        No Image
                    </div>
                {% endif %}

            </div>

            <div class="product-info">

                <h3 class="product-title">
                    <a href="{{ url_for('shop.product_detail', product_id=product.id) }}">
                        {{ product.name }}
                    </a>
                </h3>

                <p class="product-description">
                    {{ product.description }}
                </p>

                <p class="product-price">
                    â‚¹ {{ product.price }}
                </p>

                {% if product.stock > 0 %}
                    <span class="in-stock">
                        In stock: {{ product.stock }}
                    </span>
                {% else %}
                    <span class="out-of-stock">
                        Out of stock
                    </span>
                {% endif %}

                {% if session.get("user_id") and product.stock > 0 %}
                    <form method="POST"
                          action="{{ url_for('cart.add_to_cart', product_id=product.id) }}">
                        <button type="submit" class="btn-add-cart">
                            Add to Cart
                        </button>
                    </form>
                {% endif %}

            </div>

        </div>
        {% endfor %}

    </div>

    {% else %}
        <div class="empty-state">
            <p>No products found.</p>
        </div>
    {% endif %}

</section>

{% endblock %}